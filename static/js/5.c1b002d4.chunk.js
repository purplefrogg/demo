(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[5],{291:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a(98);function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(c){n=!0,i=c}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return a}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},292:function(e,t,a){e.exports={ProfilePage:"Profile_ProfilePage__38juZ",avatar:"Profile_avatar__1YDPw",Info:"Profile_Info__1T0tp",Info__item:"Profile_Info__item__3eO4w",editInput:"Profile_editInput__Jgkal",error:"Profile_error__qqZC1",myPosts:"Profile_myPosts__X4sLY"}},301:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a(1),i=a(53),o=a(54),s=a(65),c=a(64),l=a(0),u=a.n(l),f=a(17),b=a(63),j=a(292),d=a.n(j),p=a(291),O=a(97),m=function(e){var t=Object(l.useState)(!1),a=Object(p.a)(t,2),r=a[0],i=a[1],o=Object(l.useState)(e.status),s=Object(p.a)(o,2),c=s[0],u=s[1];Object(l.useEffect)((function(){u(e.status)}),[e.status]);return Object(n.jsxs)("div",{children:[!r&&Object(n.jsxs)("div",{onClick:function(){e.isOwner&&i(!0)},children:["status: ",c]}),r&&Object(n.jsxs)("div",{children:["status:",Object(n.jsx)("input",{autoFocus:!0,onBlur:function(){i(!1),e.updateStatus(c)},onChange:function(e){u(e.currentTarget.value)},value:c})]})]})},h=a(96),v=a(132),_=Object(h.b)("input"),x=Object(h.b)("textarea"),y=function(e){var t=e.handleSubmit,a=e.error,r=e.profile;e.deactivateEditMode,Object(O.a)(e,["handleSubmit","error","profile","deactivateEditMode"]);return Object(n.jsxs)("form",{onSubmit:t,children:[Object(n.jsx)("button",{children:"save"}),a&&Object(n.jsx)("div",{className:d.a.error,children:a}),Object(n.jsxs)("div",{children:["Full name: ",Object(h.a)("fullName",_,null,"full name")]}),Object(n.jsxs)("div",{className:d.a.Info__item,children:["about me:",Object(h.a)("aboutMe",x,null,"about me")]}),Object(n.jsxs)("div",{className:d.a.Info__item,children:["looking for a job: ",r.lookingForAJob?"yes":"no",Object(h.a)("lookingForAJob",_,null,"looking for a job",{type:"checkbox",className:d.a.editInput})]}),Object(n.jsxs)("div",{className:d.a.Info__item,children:["looking for a job description:",Object(h.a)("lookingForAJobDescription",x,null,"job Description")]}),Object.keys(r.contacts).map((function(e){return Object(n.jsxs)("div",{children:[e,": ",Object(h.a)("contacts."+e,_,null,e)]},e)}))]})},P=y=Object(v.a)({form:"ProfileData"})(y),g=function(e){var t=e.profile,a=e.isOwner,r=e.activateEditMode;return Object(n.jsxs)(n.Fragment,{children:[a&&Object(n.jsx)("button",{onClick:r,children:"edit"}),Object(n.jsxs)("div",{className:d.a.Info__item,children:["Full name: ",t.fullName]}),Object(n.jsxs)("div",{className:d.a.Info__item,children:["about me: ",t.aboutMe]}),Object(n.jsxs)("div",{className:d.a.Info__item,children:["looking for a job: ",t.lookingForAJob?"yes":"no"]}),Object.keys(t.contacts).map((function(e){return Object(n.jsx)(I,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})},I=function(e){var t=e.contactTitle,a=e.contactValue;return Object(n.jsxs)("div",{className:d.a.Info__item,children:[t,": ",a]})},k=function(e){var t=e.profile,a=e.isOwner,r=e.saveProfile,i=Object(O.a)(e,["profile","isOwner","saveProfile"]),o=Object(l.useState)(!1),s=Object(p.a)(o,2),c=s[0],u=s[1];return Object(n.jsxs)("div",{className:d.a.Info,children:[Object(n.jsxs)("div",{className:d.a.Info__item,children:[" ",Object(n.jsx)(m,{status:i.status,isOwner:a,updateStatus:i.updateStatus})," "]}),c?Object(n.jsx)(P,{initialValues:t,profile:t,onSubmit:function(e){r(e).then((function(){u(!1)})).catch((function(){}))}}):Object(n.jsx)(g,{profile:t,activateEditMode:function(){u(!0)},isOwner:a})]})},S=function(e){return e.profile?Object(n.jsxs)("div",{className:d.a.ProfilePage,children:[Object(n.jsx)("div",{className:d.a.avatar,children:Object(n.jsx)("img",{src:null!=e.profile.photos.large?e.profile.photos.large:"https://sun9-34.userapi.com/impf/c845420/v845420775/bafaa/hP5ZTk4e-O0.jpg?size=200x200&quality=96&proxy=1&sign=c915e9a943591bf8db59656c689429e4&type=album",alt:""})}),Object(n.jsx)(k,{profile:e.profile,isOwner:e.isOwner,saveProfile:e.saveProfile,status:e.status,updateStatus:e.updateStatus}),e.isOwner&&Object(n.jsx)("input",{onChange:function(t){var a=t.currentTarget.files[0];e.savePhoto(a)},type:"file"})]}):Object(n.jsx)(b.a,{})},w=a(131),N=a(11),F=a(9),J=function(e){Object(s.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.myId)||this.props.history.push("/Login"),null!==e&&(this.props.getUserProfile(e),this.props.getStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(n.jsx)(S,Object(r.a)(Object(r.a)({profile:this.props.profile},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),a}(u.a.Component),M={getUserProfile:w.c,getStatus:w.b,updateStatus:w.f,savePhoto:w.d,saveProfile:w.e};t.default=Object(F.d)(Object(f.b)((function(e){return{profile:e.profilePage.profile,myId:e.auth.userId,status:e.profilePage.status}}),M),N.f)(J)}}]);
//# sourceMappingURL=5.c1b002d4.chunk.js.map