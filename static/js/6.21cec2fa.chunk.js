(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[6],{292:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var o=r(99);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],o=!0,a=!1,i=void 0;try{for(var s,n=e[Symbol.iterator]();!(o=(s=n.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(c){a=!0,i=c}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return r}}(e,t)||Object(o.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},294:function(e,t,r){e.exports={ProfilePage:"Profile_ProfilePage__a2Ajs",avatar:"Profile_avatar__17tV0",Info:"Profile_Info__1-iTM",Info__item:"Profile_Info__item__VPtOc",editInput:"Profile_editInput__2Nu_l",error:"Profile_error__1PbrN",myPosts:"Profile_myPosts__1iI_W"}},313:function(e,t,r){"use strict";r.r(t);var o=r(3),a=r(1),i=r(63),s=r(64),n=r(67),c=r(66),l=r(0),u=r.n(l),f=r(17),b=r(61),j=r(294),p=r.n(j),d=r(292),O=r(98),h=function(e){var t=Object(l.useState)(!1),r=Object(d.a)(t,2),o=r[0],i=r[1],s=Object(l.useState)(e.status),n=Object(d.a)(s,2),c=n[0],u=n[1];Object(l.useEffect)((function(){u(e.status)}),[e.status]);return Object(a.jsxs)("div",{children:[!o&&Object(a.jsxs)("div",{onClick:function(){e.isOwner&&i(!0)},children:["status: ",c]}),o&&Object(a.jsxs)("div",{children:["status:",Object(a.jsx)("input",{autoFocus:!0,onBlur:function(){e.updateStatus(c),u(e.status),i(!1)},onChange:function(e){u(e.currentTarget.value)},value:c})]})]})},m=r(73),v=r(131),_=Object(v.a)({form:"ProfileData"})((function(e){var t=e.handleSubmit,r=e.error,o=e.profile;Object(O.a)(e,["handleSubmit","error","profile"]);return Object(a.jsxs)("form",{onSubmit:t,children:[Object(a.jsx)("button",{children:"save"}),r&&Object(a.jsx)("div",{className:p.a.error,children:r}),Object(a.jsxs)("div",{children:["Full name: ",Object(m.c)("fullName",m.a,[],"full name")]}),Object(a.jsxs)("div",{className:p.a.Info__item,children:["about me:",Object(m.c)("aboutMe",m.b,[],"about me")]}),Object(a.jsxs)("div",{className:p.a.Info__item,children:["looking for a job: ",o.lookingForAJob?"yes":"no",Object(m.c)("lookingForAJob",m.a,[],"looking for a job",{type:"checkbox",className:p.a.editInput})]}),Object(a.jsxs)("div",{className:p.a.Info__item,children:["looking for a job description:",Object(m.c)("lookingForAJobDescription",m.b,[],"job Description")]}),Object.keys(o.contacts).map((function(e){return Object(a.jsxs)("div",{children:[e,": ",Object(m.c)("contacts.".concat(e),m.a,[],e)]},e)}))]})})),x=function(e){var t=e.profile,r=e.isOwner,o=e.activateEditMode;return Object(a.jsxs)(a.Fragment,{children:[r&&Object(a.jsx)("button",{onClick:o,children:"edit"}),Object(a.jsxs)("div",{className:p.a.Info__item,children:["Full name: ",t.fullName]}),Object(a.jsxs)("div",{className:p.a.Info__item,children:["about me: ",t.aboutMe]}),Object(a.jsxs)("div",{className:p.a.Info__item,children:["looking for a job: ",t.lookingForAJob?"yes":"no"]}),Object(a.jsxs)("div",{className:p.a.Info__item,children:["looking For A Job Description: ",t.lookingForAJobDescription]}),Object.keys(t.contacts).map((function(e){return Object(a.jsx)(g,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})},g=function(e){var t=e.contactTitle,r=e.contactValue;return Object(a.jsxs)("div",{className:p.a.Info__item,children:[t,": ",r]})},P=function(e){var t=e.profile,r=e.isOwner,o=e.saveProfile,i=Object(O.a)(e,["profile","isOwner","saveProfile"]),s=Object(l.useState)(!1),n=Object(d.a)(s,2),c=n[0],u=n[1];return Object(a.jsxs)("div",{className:p.a.Info,children:[Object(a.jsxs)("div",{className:p.a.Info__item,children:[" ",Object(a.jsx)(h,{status:i.status,isOwner:r,updateStatus:i.updateStatus})," "]}),c?Object(a.jsx)(_,{initialValues:t,profile:t,onSubmit:function(e){o(e).then((function(){u(!1)})).catch((function(){}))}}):Object(a.jsx)(x,{profile:t,activateEditMode:function(){u(!0)},isOwner:r})]})},y=function(e){return e.profile?Object(a.jsxs)("div",{className:p.a.ProfilePage,children:[Object(a.jsx)("div",{className:p.a.avatar,children:Object(a.jsx)("img",{src:null!=e.profile.photos.large?e.profile.photos.large:"https://sun9-34.userapi.com/impf/c845420/v845420775/bafaa/hP5ZTk4e-O0.jpg?size=200x200&quality=96&proxy=1&sign=c915e9a943591bf8db59656c689429e4&type=album",alt:""})}),Object(a.jsx)(P,{profile:e.profile,isOwner:e.isOwner,saveProfile:e.saveProfile,status:e.status,updateStatus:e.updateStatus}),e.isOwner&&Object(a.jsx)("input",{onChange:function(t){t.target.files&&t.target.files.length&&e.savePhoto(t.target.files[0])},type:"file"})]}):Object(a.jsx)(b.a,{})},I=r(134),k=r(11),S=r(10),N=function(e){Object(n.a)(r,e);var t=Object(c.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(s.a)(r,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.myId)||this.props.history.push("/Login"),null!==e&&(this.props.getUserProfile(e),this.props.getStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(a.jsx)(y,Object(o.a)(Object(o.a)({profile:this.props.profile},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),r}(u.a.Component),w={getUserProfile:I.c,getStatus:I.b,updateStatus:I.f,saveProfile:I.e,savePhoto:I.d};t.default=Object(S.d)(Object(f.b)((function(e){return{profile:e.profilePage.profile,myId:e.auth.userId,status:e.profilePage.status}}),w),k.h)(N)}}]);
//# sourceMappingURL=6.21cec2fa.chunk.js.map