{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Body/Profile/Profile.module.scss","components/Body/Profile/PofileStatus/ProfileStatusWithHooks.jsx","components/Body/Profile/ProfileDataForm.jsx","components/Body/Profile/ProfileInfo.jsx","components/Body/Profile/Profile.jsx","components/Body/Profile/ProfileConteiner.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onClick","isOwner","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","input","inputElement","textarea","ProfileDataForm","handleSubmit","error","profile","deactivateEditMode","onSubmit","className","style","createField","Info__item","lookingForAJob","type","editInput","keys","contacts","map","key","reduxForm","form","ProfileData","activateEditMode","fullName","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","saveProfile","Info","initialValues","formData","then","catch","Profile","ProfilePage","avatar","src","photos","large","alt","photo","files","savePhoto","ProfileConteiner","userId","this","match","params","myId","history","getUserProfile","getStatus","refreshProfile","prevProps","React","Component","mapDispatchToProps","compose","connect","state","profilePage","auth","withRouter"],"mappings":"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","file":"static/js/5.c1b002d4.chunk.js","sourcesContent":["import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfilePage\":\"Profile_ProfilePage__38juZ\",\"avatar\":\"Profile_avatar__1YDPw\",\"Info\":\"Profile_Info__1T0tp\",\"Info__item\":\"Profile_Info__item__3eO4w\",\"editInput\":\"Profile_editInput__Jgkal\",\"error\":\"Profile_error__qqZC1\",\"myPosts\":\"Profile_myPosts__X4sLY\"};","import React, { useEffect, useState } from 'react';\n\nconst ProfileStatusWithHooks = (props) => {\n\n\tlet [editMode, setEditMode] = useState(false)\n\tlet [status, setStatus] = useState(props.status)\n\tuseEffect(() => {\n\t\tsetStatus(props.status)\n\t}, [props.status])\n\n\tconst activateEditMode = () => {\n\t\tif(props.isOwner){\n\t\t\tsetEditMode(true)\n\t\t} \n\t}\n\tconst deactivateEditMode = () => {\n\t\tsetEditMode(false)\n\t\tprops.updateStatus(status)\n\t}\n\tconst onStatusChange = (e) => {\n\t\tsetStatus(e.currentTarget.value)\n\t}\n\treturn (\n\t\t<div>\n\t\t\t{!editMode &&\n\t\t\t\t<div onClick={activateEditMode}>\n\t\t\t\t\tstatus: {status}\n\t\t\t\t</div>}\n\t\t\t{editMode &&\n\t\t\t\t<div>\n\t\t\t\t\tstatus:\n\t\t\t\t\t<input autoFocus={true} onBlur={deactivateEditMode}\n\t\t\t\t\t\tonChange={onStatusChange} value={status} />\n\t\t\t\t</div>}\n\t\t</div>\n\t)\n}\n\n\nexport default ProfileStatusWithHooks;\n","import React from 'react';\nimport style from './Profile.module.scss';\nimport { createField, inputElement } from '../../common/FormsControls/FormsControls';\nimport { reduxForm } from 'redux-form';\n\n\nconst input = inputElement(\"input\")\nconst textarea = inputElement(\"textarea\")\n\n\nlet ProfileDataForm = ({handleSubmit, error, profile, deactivateEditMode, ...props }) => {\n\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t\n\t\t\t<button>save</button>\n\t\t\t{error && <div className={style.error}>\n                {error}\n                </div>}\n\t\t\t<div>Full name: {createField(\"fullName\",input, null,\"full name\")}</div>\n\t\t\t<div className={style.Info__item}>about me:  \n\t\t\t{createField(\"aboutMe\",textarea, null,\"about me\")}</div>\n\t\t\n\t\t\t<div className={style.Info__item}>looking for a job: {profile.lookingForAJob ? \"yes\" : \"no\"}\n\t\t\t{createField(\"lookingForAJob\",input, null,\"looking for a job\", {type: \"checkbox\", className: style.editInput})}</div>\n\t\t\t<div className={style.Info__item}>looking for a job description: \n\t\t\t{createField(\"lookingForAJobDescription\",textarea, null,\"job Description\")}</div>\n\t\t\n\t\t\t{Object.keys(profile.contacts).map(key => {\n\t\t\t\treturn <div key={key}>\n\t\t\t\t\t{key}: {createField(\"contacts.\" + key, input, null, key)}\n\t\t\t\t</div>\n\t\t\t})}\n\t\t</form>\n\t)\n}\nProfileDataForm = reduxForm({\n    form: 'ProfileData'\n})(ProfileDataForm)\n\n\nexport default ProfileDataForm;\n","import React, { useState } from 'react';\nimport ProfileStatusWithHooks from './PofileStatus/ProfileStatusWithHooks';\nimport style from './Profile.module.scss';\nimport ProfileDataForm from './ProfileDataForm';\n\n\nconst ProfileInfo = ({ profile, isOwner,saveProfile, ...props }) => {\n\tlet [editMode, setEditMode] = useState(false)\n\tconst activateEditMode = () => {\n\t\tsetEditMode(true)\n\t}\n\tconst onSubmit = (formData) => {\n        const promise = saveProfile(formData)\n\t\tpromise.then(()=>{\n\t\t\tsetEditMode(false)\n\t\t}).catch(()=>{})\n\t\t//.then(()=>{setEditMode(false)},()=>{})\n    }\n\treturn (<div className={style.Info}>\n\t\t\n\t\t<div className={style.Info__item}> {<ProfileStatusWithHooks status={props.status}  isOwner={isOwner}\n\t\t updateStatus={props.updateStatus} />} </div>\n\t\t\n\t\t{editMode \n\t\t? <ProfileDataForm initialValues={profile} profile={profile}  onSubmit={onSubmit} /> \n\t\t: <ProfileData profile={profile} activateEditMode={activateEditMode} isOwner={isOwner}/>}\n\t</div>\n\t)\t\n}\n\nconst ProfileData = ({ profile, isOwner, activateEditMode }) => {\n\treturn (\n\t\t<>\n\t\t\t{isOwner && <button onClick={activateEditMode}>edit</button>}\n\t\t\t<div className={style.Info__item}>Full name: {profile.fullName}</div>\n\t\t\t<div className={style.Info__item}>about me: {profile.aboutMe}</div>\n\t\t\t<div className={style.Info__item}>looking for a job: {profile.lookingForAJob ? \"yes\" : \"no\"}</div>\n\t\t\t{Object.keys(profile.contacts).map(key => {\n\t\t\t\treturn <Contact contactTitle={key} key={key} contactValue={profile.contacts[key]} />\n\t\t\t})}\n\t\t</>\n\t)\n}\n\n\n\nexport const Contact = ({ contactTitle, contactValue }) => {\n\treturn (\n\t\t<div className={style.Info__item}>{contactTitle}: {contactValue}</div>\n\t)\n}\n\nexport default ProfileInfo;\n","import React from 'react';\nimport Preloader from '../../common/Preloader/preloader';\nimport style from './Profile.module.scss'\nimport ProfileInfo from './ProfileInfo';\n\n\nconst Profile = (props) => {\n\tconst changeProfilePhoto = (e) =>{\n\t\tlet photo = e.currentTarget.files[0]\n\t\tprops.savePhoto(photo)\n\t}\n\tif(!props.profile){\n\t\treturn <Preloader></Preloader>\n\t}\n\telse\n\treturn (\n\t\t<div className={style.ProfilePage}>\n\t\t\t<div className={style.avatar}>\n\t\t\t<img  src={props.profile.photos.large != null ? props.profile.photos.large : 'https://sun9-34.userapi.com/impf/c845420/v845420775/bafaa/hP5ZTk4e-O0.jpg?size=200x200&quality=96&proxy=1&sign=c915e9a943591bf8db59656c689429e4&type=album'}\n\t\t\t\t\t\t\talt=\"\" />\n\t\t\t</div>\n\t\t\t\n\t\t\t<ProfileInfo profile={props.profile} isOwner={props.isOwner} saveProfile={props.saveProfile}\n\t\t\tstatus={props.status} updateStatus={props.updateStatus} />\n\t\t\t{props.isOwner && <input onChange={changeProfilePhoto} type=\"file\"/>}\n\t\t\t\n\t\t</div>\n\t)\n}\n\nexport default Profile;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Profile from './Profile';\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile} from '../../../redux/profile-Reducer'\nimport { withRouter } from 'react-router-dom';\nimport { compose } from 'redux';\n\n\nclass ProfileConteiner extends React.Component {\n\trefreshProfile(){\n\t\tlet userId = this.props.match.params.userId\n\t\tif (!userId) {\n\t\t\tuserId = this.props.myId\n\t\t\tif (!userId) {\n\t\t\t\tthis.props.history.push('/Login') \n\t\t\t}\n\t\t}\n\t\tif (userId !== null) {\n\t\t\tthis.props.getUserProfile(userId)\n\t\t\tthis.props.getStatus(userId)\n\t\t}\t\t\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.refreshProfile()\n\t}\n\tcomponentDidUpdate(prevProps){\n\t\tif(this.props.match.params.userId !== prevProps.match.params.userId){\n\t\t\tthis.refreshProfile()\n\t\t}\n\t\t\n\t}\n\t\n\trender() {\n\t\treturn (<Profile profile={this.props.profile} {...this.props}\n\t\tisOwner={!!!this.props.match.params.userId }/>)\n\t}\n}\n\n\nlet mapStateToProps = (state) => {\n\treturn {\n\t\tprofile: state.profilePage.profile,\n\t\tmyId: state.auth.userId,\n\t\tstatus: state.profilePage.status\n\t}\n}\nlet mapDispatchToProps = {\n\tgetUserProfile,\n\tgetStatus,\n\tupdateStatus,\n\tsavePhoto,\n\tsaveProfile\n}\n\nexport default compose(\n\tconnect(mapStateToProps, mapDispatchToProps),\n\twithRouter,\n\t\n)(ProfileConteiner)\n"],"sourceRoot":""}