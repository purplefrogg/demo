(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[5],{295:function(e,t,n){e.exports={UsersPage:"Users_UsersPage__1RHKl",User:"Users_User__2tHzA",avatar:"Users_avatar__bxZOg",info:"Users_info__1Tl2N",selectedPage:"Users_selectedPage__2UnTv"}},302:function(e,t,n){e.exports={selectedPage:"Paginator_selectedPage__1y9hK"}},312:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n(0),r=n(17),s=n(301),a=Object(s.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),u=function(e){return e.usersPage.totalCount},o=function(e){return e.usersPage.page},l=function(e){return e.usersPage.count},d=function(e){return e.usersPage.isFetching},j=function(e){return e.usersPage.isFollowing},b=function(e){return e.usersPage.filter},f=n(292),O=n(302),g=n.n(O),h=function(e){for(var t=e.count,n=e.totalCount,r=e.portionSize,s=void 0===r?10:r,a=e.page,u=e.onPageChanged,o=Object(i.useState)(Math.ceil(a/s)),l=Object(f.a)(o,2),d=l[0],j=l[1],b=Math.ceil(n/t),O=[],h=1;h<=b;h++)O.push(h);var m=Math.ceil(b/s),p=(d-1)*s+1,x=d*s;return Object(c.jsxs)("div",{children:[d>1&&Object(c.jsx)("button",{onClick:function(){return j(d-1)},children:"<<<"}),O.filter((function(e){return e>=p&&e<=x})).map((function(e){return Object(c.jsxs)("span",{onClick:function(){u(e)},className:e===a?g.a.selectedPage:"",children:[e," "]},e)})),m>d&&Object(c.jsx)("button",{onClick:function(){return j(d+1)},children:">>>"})]})},m=n(61),p=n(98),x=n(23),v=n(295),P=n.n(v),_=function(e){var t=e.user,n=Object(p.a)(e,["user"]);return Object(c.jsxs)("div",{className:P.a.User,children:[Object(c.jsx)(x.b,{className:P.a.avatar,to:"/Profile/".concat(t.id),children:Object(c.jsx)("img",{src:null===t.photos.small?"https://sun9-34.userapi.com/impf/c845420/v845420775/bafaa/hP5ZTk4e-O0.jpg?size=200x200&quality=96&proxy=1&sign=c915e9a943591bf8db59656c689429e4&type=album":t.photos.small,alt:""})}),Object(c.jsxs)("div",{className:P.a.info,children:[Object(c.jsx)("div",{className:P.a.name,children:t.name}),Object(c.jsx)("div",{className:P.a.status,children:t.status})]}),t.followed?Object(c.jsx)("button",{disabled:n.isFollowing.some((function(e){return e===t.id})),onClick:function(){n.unfollow(t.id)},children:"unfollow"}):Object(c.jsx)("button",{disabled:n.isFollowing.some((function(e){return e===t.id})),onClick:function(){n.follow(t.id)},children:"follow"})]},t.id)},w=n(132),C=n(309),U=function(e){var t=Object(r.d)(b);return Object(c.jsx)(C.c,{enableReinitialize:!0,initialValues:{term:t.term,isFriend:String(t.friend)},onSubmit:function(t,n){var c=n.setSubmitting,i="null"===t.isFriend?null:"true"===t.isFriend;e.onFilterChanged(i,t.term),c(!1)},children:function(e){var t=e.isSubmitting;return Object(c.jsxs)(C.b,{children:[Object(c.jsx)(C.a,{type:"input",name:"term"}),Object(c.jsxs)(C.a,{as:"select",name:"isFriend",children:[Object(c.jsx)("option",{value:"null",children:"all"}),Object(c.jsx)("option",{value:"true",children:"friend"}),Object(c.jsx)("option",{value:"false",children:"not friend"})]}),Object(c.jsx)("button",{type:"submit",disabled:t,children:"Submit"})]})}})},F=n(11),k=n(306);t.default=function(e){var t=Object(r.d)(u),n=Object(r.d)(d),s=Object(r.d)(j),f=Object(r.d)(a),O=Object(r.d)(o),g=Object(r.d)(l),p=Object(r.d)(b),x=Object(r.c)(),v=Object(F.g)(),C=function(e){x(Object(w.b)(e))},N=function(e){x(Object(w.d)(e))};Object(i.useEffect)((function(){var e=k.parse(v.location.search.substr(1)),t=O,n=p;e.page&&(t=+e.page),e.term&&(n.term=e.term),n.friend="null"===e.friend?null:"true"===e.friend,x(Object(w.c)(t,g,{term:n.term,friend:n.friend}))}),[]),Object(i.useEffect)((function(){v.push({pathname:"/users",search:"?term=".concat(p.term,"\n\t\t\t&friend=").concat(null===p.friend?"null":!0===p.friend?"true":"false","\n\t\t\t&page=").concat(O)})}),[p,O]);var S=Object(c.jsx)(h,{count:g,totalCount:t,page:O,onPageChanged:function(e){x(Object(w.c)(e,g,p))}});return Object(c.jsxs)("div",{className:P.a.UsersPage,children:[Object(c.jsx)(U,{onFilterChanged:function(e,t){x(Object(w.c)(1,g,{term:t,friend:e}))}}),t>g&&S,n?Object(c.jsx)(m.a,{}):Object(c.jsxs)("div",{children:[f.map((function(e){return Object(c.jsx)(_,{user:e,isFollowing:s,follow:C,unfollow:N},e.id)})),t>g&&S]})]})}}}]);
//# sourceMappingURL=5.2cf39959.chunk.js.map