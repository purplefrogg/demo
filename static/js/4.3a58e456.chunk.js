(this.webpackJsonpdemo=this.webpackJsonpdemo||[]).push([[4],{291:function(n,e,t){"use strict";t.d(e,"a",(function(){return o}));var r=t(98);function o(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(n)){var t=[],r=!0,o=!1,s=void 0;try{for(var i,a=n[Symbol.iterator]();!(r=(i=a.next()).done)&&(t.push(i.value),!e||t.length!==e);r=!0);}catch(u){o=!0,s=u}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return t}}(n,e)||Object(r.a)(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},293:function(n,e,t){n.exports={UsersPage:"Users_UsersPage__3sgBk",User:"Users_User__3K2fr",avatar:"Users_avatar__3VRnC",info:"Users_info__19WhX",selectedPage:"Users_selectedPage__1bGMy"}},297:function(n,e,t){n.exports={selectedPage:"Paginator_selectedPage__1y9hK"}},300:function(n,e,t){"use strict";t.r(e);var r=t(1),o=t(53),s=t(54),i=t(65),a=t(64),u=t(17),l=t(134),c=t(0),f=t.n(c),p=t(291),g=t(297),h=t.n(g),d=function(n){for(var e=n.count,t=n.totalCount,o=n.portionSize,s=void 0===o?10:o,i=n.page,a=n.onPageChanged,u=Object(c.useState)(Math.ceil(i/s)),l=Object(p.a)(u,2),f=l[0],g=l[1],d=Math.ceil(t/e),b=[],j=1;j<=d;j++)b.push(j);var v=Math.ceil(d/s),w=(f-1)*s+1,y=f*s;return Object(r.jsxs)("div",{children:[f>1&&Object(r.jsx)("button",{onClick:function(){return g(f-1)},children:"<<<"}),b.filter((function(n){return n>=w&&n<=y})).map((function(n){return Object(r.jsxs)("span",{onClick:function(){a(n)},className:n===i?h.a.selectedPage:null,children:[n," "]},n)})),v>f&&Object(r.jsx)("button",{onClick:function(){return g(f+1)},children:">>>"})]})},b=t(63),j=t(96),v=t(25),w=t(293),y=t.n(w),m=function(n){var e=n.user,t=Object(j.a)(n,["user"]);return Object(r.jsxs)("div",{className:y.a.User,children:[Object(r.jsx)(v.b,{className:y.a.avatar,to:"/Profile/".concat(e.id),children:Object(r.jsx)("img",{src:null!=e.photos.small?e.photos.small:"https://sun9-34.userapi.com/impf/c845420/v845420775/bafaa/hP5ZTk4e-O0.jpg?size=200x200&quality=96&proxy=1&sign=c915e9a943591bf8db59656c689429e4&type=album",alt:""})}),Object(r.jsxs)("div",{className:y.a.info,children:[Object(r.jsx)("div",{className:y.a.name,children:e.name}),Object(r.jsx)("div",{className:y.a.status,children:e.status})]}),e.followed?Object(r.jsx)("button",{disabled:t.isFollowing.some((function(n){return n===e.id})),onClick:function(){t.unfollow(e.id)},children:"unfollow"}):Object(r.jsx)("button",{disabled:t.isFollowing.some((function(n){return n===e.id})),onClick:function(){t.follow(e.id)},children:"follow"})]},e.id)},O=function(n){return Object(r.jsxs)("div",{className:y.a.UsersPage,children:[Object(r.jsx)(d,{count:n.count,totalCount:n.totalCount,page:n.page,onPageChanged:n.onPageChanged}),n.isFetching?Object(r.jsx)(b.a,{}):Object(r.jsxs)("div",{children:[n.users.map((function(e){return Object(r.jsx)(m,{user:e,isFollowing:n.isFollowing,follow:n.follow,unfollow:n.unfollow},e.id)})),Object(r.jsx)(d,{count:n.count,totalCount:n.totalCount,page:n.page,onPageChanged:n.onPageChanged})]})]})};function x(n,e){return n===e}function P(n,e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!n(e[o],t[o]))return!1;return!0}function C(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return typeof n})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return e}var F=function(n){for(var e=arguments.length,t=Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];var s=0,i=r.pop(),a=C(r),u=n.apply(void 0,[function(){return s++,i.apply(null,arguments)}].concat(t)),l=n((function(){for(var n=[],e=a.length,t=0;t<e;t++)n.push(a[t].apply(null,arguments));return u.apply(null,n)}));return l.resultFunc=i,l.dependencies=a,l.recomputations=function(){return s},l.resetRecomputations=function(){return s=0},l}}((function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x,t=null,r=null;return function(){return P(e,t,arguments)||(r=n.apply(null,arguments)),t=arguments,r}}));var _=F((function(n){return n.usersPage.users}),(function(n){return n.filter((function(n){return!0}))})),U=function(n){return n.usersPage.totalCount},k=function(n){return n.usersPage.page},A=function(n){return n.usersPage.count},N=function(n){return n.usersPage.isFetching},S=function(n){return n.usersPage.isFollowing},I=function(n){Object(i.a)(t,n);var e=Object(a.a)(t);function t(){var n;Object(o.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(n=e.call.apply(e,[this].concat(s))).onPageChanged=function(e){var t=n.props.count;n.props.requestUsers(e,t)},n}return Object(s.a)(t,[{key:"componentDidMount",value:function(){var n=this.props,e=n.page,t=n.count;this.props.requestUsers(e,t)}},{key:"render",value:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(O,{onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,count:this.props.count,page:this.props.page,totalCount:this.props.totalCount,users:this.props.users,toggleIsFollowing:this.props.toggleIsFollowing,isFollowing:this.props.isFollowing,isFetching:this.props.isFetching})})}}]),t}(f.a.Component),M={follow:l.b,unfollow:l.f,toggleIsFollowing:l.e,requestUsers:l.c,setCurrentPage:l.d};e.default=Object(u.b)((function(n){return{users:_(n),totalCount:U(n),page:k(n),count:A(n),isFetching:N(n),isFollowing:S(n)}}),M)(I)}}]);
//# sourceMappingURL=4.3a58e456.chunk.js.map